# ==========================================
# SERVER CONFIGURATION
# ==========================================

PORT=3001
NODE_ENV=production
FRONTEND_URL=https://www.tradematch.uk
BACKEND_URL=https://tradematch.onrender.com

# ==========================================
# DATABASE CONFIGURATION (NEON POSTGRES)
# ==========================================
# Get this from: https://console.neon.tech
# Format: postgresql://user:password@host/database?sslmode=require

DATABASE_URL=postgresql://username:password@ep-xxx.neon.tech/tradematch?sslmode=require

# ==========================================
# AUTHENTICATION
# ==========================================
# Generate a secure JWT_SECRET with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# IMPORTANT: Use a unique secret for production and keep it private!
# Example: 1e249511ff6dfa48b26031f33aca2dfd0c1fd917bf970d1e56d0aa362c15da7c

JWT_SECRET=your-secret-key-here-generate-a-long-random-string
JWT_EXPIRY=7d

# ==========================================
# CORS CONFIGURATION
# ==========================================
# Comma-separated list of allowed origins

CORS_ORIGINS=http://localhost:3000,https://www.tradematch.uk,https://tradematch.uk

# ==========================================
# STRIPE PAYMENT (OPTIONAL)
# ==========================================
# Get from: https://dashboard.stripe.com/apikeys

STRIPE_SECRET_KEY=sk_test_your_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# ==========================================
# AWS S3 FILE STORAGE (OPTIONAL)
# ==========================================

AWS_ACCESS_KEY_ID=your_access_key
AWS_SECRET_ACCESS_KEY=your_secret_key
AWS_REGION=ap-southeast-1
S3_BUCKET=tradematch-uploads

# ==========================================
# EMAIL CONFIGURATION (OPTIONAL)
# ==========================================
# Resend API (Recommended): https://resend.com

RESEND_API_KEY=re_your_resend_api_key
EMAIL_FROM=noreply@tradematch.uk
# Optional per-category senders (fallback to EMAIL_FROM if unset)
EMAIL_FROM_JOBS=jobs@tradematch.uk
EMAIL_FROM_NOTIFICATIONS=notifications@tradematch.uk
EMAIL_FROM_PAYMENTS=payments@tradematch.uk
EMAIL_FROM_REVIEWS=reviews@tradematch.uk

# Legacy SMTP (Alternative)
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=your_sendgrid_api_key
FROM_EMAIL=noreply@tradematch.com

# ==========================================
# OAUTH PROVIDERS
# ==========================================
# Google OAuth: https://console.cloud.google.com

GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=https://tradematch.onrender.com/auth/google/callback

# Microsoft OAuth: https://portal.azure.com
MICROSOFT_CLIENT_ID=your-microsoft-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-secret
MICROSOFT_CALLBACK_URL=https://tradematch.onrender.com/auth/microsoft/callback

# ==========================================
# AI SERVICES (OPTIONAL - Phase 7)
# ==========================================
# Get from: https://console.anthropic.com

CLAUDE_API_KEY=sk-ant-your-api-key

# OpenAI API: https://platform.openai.com
OPENAI_API_KEY=sk-your-openai-api-key

# ==========================================
# GOOGLE SERVICES (OPTIONAL)
# ==========================================

GOOGLE_MAPS_API_KEY=your_maps_api_key
GOOGLE_PLACES_API_KEY=your_places_api_key

# ==========================================
# FEATURE FLAGS
# ==========================================

ENABLE_PAYMENTS=false
ENABLE_MESSAGING=true
ENABLE_FILE_UPLOADS=true
ENABLE_EMAIL=true
ENABLE_SMS=false

# ==========================================
# RATE LIMITING
# ==========================================

RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ==========================================
# FILE UPLOAD LIMITS
# ==========================================

MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf

# ==========================================
# NOTES FOR DEPLOYMENT
# ==========================================

# RENDER.COM DEPLOYMENT:
# 1. Add these environment variables in Render dashboard
# 2. DATABASE_URL is REQUIRED
# 3. JWT_SECRET must be generated (use crypto command above)
# 4. Set CORS_ORIGINS to your frontend URL
# 5. Everything else is optional until you enable those features

# SECURITY REMINDERS:
# - NEVER commit .env with real values to GitHub
# - Always add .env to .gitignore
# - Rotate JWT_SECRET regularly in production
# - Use strong, unique passwords for DATABASE_URL
